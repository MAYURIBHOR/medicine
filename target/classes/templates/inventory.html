<tbody>
<tr th:each="med : ${medicines}"
    th:classappend="${med.expiryDate.isBefore(T(java.time.LocalDate).now()) ? 'expired' : (med.expiryDate.isBefore(T(java.time.LocalDate).now().plusDays(30)) ? 'soon-expiry' : '')}">
    <td th:text="${med.name}">Medicine Name</td>
    <td th:text="${med.batchNumber}">Batch</td>
    <td th:text="${med.stock}">Stock</td>
    <td th:text="${med.expiryDate}">Expiry</td>
    <td th:text="${med.supplier != null ? med.supplier.name : 'N/A'}">Supplier</td>
    <td>
        <span th:if="${med.expiryDate.isBefore(T(java.time.LocalDate).now())}" class="badge bg-danger">Expired</span>
        <span th:if="${med.expiryDate.isAfter(T(java.time.LocalDate).now()) and med.expiryDate.isBefore(T(java.time.LocalDate).now().plusDays(30))}" class="badge bg-warning text-dark">Expiring Soon</span>
        <span th:if="${med.expiryDate.isAfter(T(java.time.LocalDate).now().plusDays(30))}" class="badge bg-success">Valid</span>
    </td>
    <td>
        <a th:href="@{'/inventory/edit/' + ${med.id}}" class="btn btn-sm btn-primary">Edit</a>
        <a th:href="@{'/inventory/delete/' + ${med.id}}" class="btn btn-sm btn-danger">Delete</a>
    </td>
</tr>
</tbody>
